<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secondary Markets Visualization</title>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- React -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Set dark background by default */
        body {
            background-color: #111827;
            margin: 0;
            min-height: 100vh;
        }
        
        /* Custom scrollbar for better visibility in dark mode */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #374151;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #6B7280;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const SecondaryMarketsVisual = () => {
            const [isDarkMode, setIsDarkMode] = React.useState(true);
            const [activeTab, setActiveTab] = React.useState('process');
            const [currentStep, setCurrentStep] = React.useState(1);
            const chartRef = React.useRef(null);
            const [chart, setChart] = React.useState(null);
            const [showingVolume, setShowingVolume] = React.useState(false);
            const brandColor = "#079A4F"; // Your brand green color

            React.useEffect(() => {
                const darkModeQuery = window.matchMedia('(prefers-color-scheme: dark)');
                setIsDarkMode(darkModeQuery.matches);

                const handler = (e) => setIsDarkMode(e.matches);
                darkModeQuery.addEventListener('change', handler);

                return () => darkModeQuery.removeEventListener('change', handler);
            }, []);
            
            const nextStep = () => {
                setCurrentStep(prev => prev < 4 ? prev + 1 : 1);
            };

            const prevStep = () => {
                setCurrentStep(prev => prev > 1 ? prev - 1 : 4);
            };
            // Chart for market activity visualization
            React.useEffect(() => {
                if (chartRef.current && activeTab === 'metrics') {
                    if (chart) {
                        chart.destroy();
                    }

                    const ctx = chartRef.current.getContext('2d');
                    
                    if (showingVolume) {
                        // Volume by market type chart
                        const marketTypes = ["Stock Exchanges", "Bond Markets", "Forex Markets", "Derivatives"];
                        const volumeData = [89.4, 42.7, 62.3, 33.8]; // Daily volume in billions
                        const backgroundColors = ['#3B82F6', '#10B981', '#F59E0B', '#8B5CF6'];
                        
                        const newChart = new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: marketTypes,
                                datasets: [{
                                    label: 'Daily Volume ($ Billions)',
                                    data: volumeData,
                                    backgroundColor: backgroundColors,
                                    borderColor: 'rgba(255, 255, 255, 0.3)',
                                    borderWidth: 1
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        display: false
                                    },
                                    tooltip: {
                                        enabled: true,
                                        backgroundColor: isDarkMode ? '#374151' : 'white',
                                        titleColor: isDarkMode ? '#fff' : '#000',
                                        bodyColor: isDarkMode ? '#fff' : '#000',
                                        borderColor: isDarkMode ? '#4B5563' : '#E5E7EB',
                                        borderWidth: 1,
                                        padding: 10,
                                        displayColors: true
                                    }
                                },
                                scales: {
                                    y: {
                                        title: {
                                            display: true,
                                            text: 'Volume ($ Billions)',
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        },
                                        grid: {
                                            color: isDarkMode ? '#374151' : '#e5e7eb'
                                        },
                                        ticks: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    },
                                    x: {
                                        grid: {
                                            color: isDarkMode ? '#374151' : '#e5e7eb'
                                        },
                                        ticks: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    }
                                }
                            }
                        });
                        setChart(newChart);
                    } else {
                        // Liquidity comparison chart
                        const securityTypes = ["Blue Chip Stock", "Small Cap Stock", "Treasury Bond", "Corporate Bond", "Emerging Market Stock"];
                        const bidAskSpread = [0.01, 0.05, 0.02, 0.04, 0.08]; // As percentage
                        const tradeTime = [0.2, 0.8, 0.3, 0.6, 1.2]; // In seconds
                        const newChart = new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: securityTypes,
                                datasets: [
                                    {
                                        label: 'Bid-Ask Spread (%)',
                                        data: bidAskSpread,
                                        backgroundColor: '#3B82F6',
                                        borderColor: 'rgba(59, 130, 246, 0.7)',
                                        borderWidth: 1,
                                        yAxisID: 'y'
                                    },
                                    {
                                        label: 'Trade Execution Time (s)',
                                        data: tradeTime,
                                        backgroundColor: '#8B5CF6',
                                        borderColor: 'rgba(139, 92, 246, 0.7)',
                                        borderWidth: 1,
                                        yAxisID: 'y1'
                                    }
                                ]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        display: true,
                                        position: 'top',
                                        labels: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    },
                                    tooltip: {
                                        enabled: true,
                                        backgroundColor: isDarkMode ? '#374151' : 'white',
                                        titleColor: isDarkMode ? '#fff' : '#000',
                                        bodyColor: isDarkMode ? '#fff' : '#000',
                                        borderColor: isDarkMode ? '#4B5563' : '#E5E7EB',
                                        borderWidth: 1,
                                        padding: 10
                                    }
                                },
                                scales: {
                                    y: {
                                        type: 'linear',
                                        display: true,
                                        position: 'left',
                                        title: {
                                            display: true,
                                            text: 'Bid-Ask Spread (%)',
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        },
                                        grid: {
                                            color: isDarkMode ? '#374151' : '#e5e7eb'
                                        },
                                        ticks: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    },
                                    y1: {
                                        type: 'linear',
                                        display: true,
                                        position: 'right',
                                        title: {
                                            display: true,
                                            text: 'Trade Time (s)',
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        },
                                        grid: {
                                            display: false
                                        },
                                        ticks: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    },
                                    x: {
                                        grid: {
                                            color: isDarkMode ? '#374151' : '#e5e7eb'
                                        },
                                        ticks: {
                                            color: isDarkMode ? '#9CA3AF' : '#4B5563'
                                        }
                                    }
                                }
                            }
                        });
                        setChart(newChart);
                    }
                }
            }, [showingVolume, isDarkMode, activeTab]);
            
            return (
                <div className="min-h-screen bg-gray-900 py-8 text-white">
                    <div className="w-full max-w-2xl mx-auto p-4">
                        <div className="rounded-lg shadow-lg p-6 bg-gray-800">
                            <h2 className="text-2xl font-bold mb-4 text-white">
                                Secondary Markets
                            </h2>
                            
                            <div className="mb-6 bg-gray-700 p-4 rounded-lg">
                                <div className="text-sm text-gray-400 mb-1">Definition</div>
                                <p className="text-gray-200">
                                    Financial markets where previously issued securities are bought and sold among investors. Unlike primary markets, no new capital flows to the original issuer in secondary market transactions; instead, these markets provide liquidity for existing securities and facilitate price discovery.
                                </p>
                            </div>

                            <div className="mb-4 flex">
                                <button
                                    className={`px-4 py-2 ${activeTab === 'process' ? 'bg-blue-800 text-white' : 'bg-gray-700 text-gray-300'} rounded-tl-lg rounded-bl-lg`}
                                    onClick={() => setActiveTab('process')}
                                >
                                    Process
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === 'types' ? 'bg-blue-800 text-white' : 'bg-gray-700 text-gray-300'}`}
                                    onClick={() => setActiveTab('types')}
                                >
                                    Types
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === 'metrics' ? 'bg-blue-800 text-white' : 'bg-gray-700 text-gray-300'}`}
                                    onClick={() => setActiveTab('metrics')}
                                >
                                    Metrics
                                </button>
                                <button
                                    className={`px-4 py-2 ${activeTab === 'functions' ? 'bg-blue-800 text-white' : 'bg-gray-700 text-gray-300'} rounded-tr-lg rounded-br-lg`}
                                    onClick={() => setActiveTab('functions')}
                                >
                                    Functions
                                </button>
                            </div>
                            {/* Secondary Market Process */}
                            {activeTab === 'process' && (
                                <div className="mb-6">
                                    <h3 className="text-lg font-semibold mb-3 text-blue-400">Secondary Market Process</h3>
                                    
                                    <div className="relative h-96 mb-4 bg-gray-700 rounded-lg overflow-hidden">
                                        {/* Step 1: Primary vs Secondary Market - CENTER ALIGNED TEXT */}
                                        {currentStep === 1 && (
                                            <div className="absolute inset-0 p-4">
                                                <h3 className="text-lg font-semibold mb-3 text-center text-blue-400">Primary vs Secondary Markets</h3>
                                                <div className="h-72 overflow-y-auto custom-scrollbar pr-2">
                                                    <div className="grid grid-cols-2 gap-8 w-full">
                                                        <div className="bg-gray-800 p-4 rounded-lg text-center">
                                                            <h4 className="text-green-400 font-semibold text-center mb-3">Primary Market</h4>
                                                            <div className="flex flex-col space-y-3">
                                                                <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                    <div className="text-amber-400 font-semibold mb-1">Issuer</div>
                                                                    <div className="text-xs text-gray-300">Company, Government, etc.</div>
                                                                </div>
                                                                <div className="flex justify-center my-1">
                                                                    <svg className="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                                                                    </svg>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                    <div className="text-blue-400 font-semibold mb-1">Underwriter</div>
                                                                    <div className="text-xs text-gray-300">Investment Banks, Brokers</div>
                                                                </div>
                                                                <div className="flex justify-center my-1">
                                                                    <svg className="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                                                                    </svg>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                    <div className="text-purple-400 font-semibold mb-1">Initial Investors</div>
                                                                    <div className="text-xs text-gray-300">First buyers of securities</div>
                                                                </div>
                                                                <div className="text-center bg-green-900 bg-opacity-30 p-2 rounded-lg mt-1">
                                                                    <div className="text-sm font-semibold text-green-400">New Capital Raised</div>
                                                                    <div className="text-xs text-gray-300">Funds flow to issuer</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <div className="bg-gray-800 p-4 rounded-lg text-center">
                                                            <h4 className="text-blue-400 font-semibold text-center mb-3">Secondary Market</h4>
                                                            <div className="flex flex-col space-y-3">
                                                                <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                    <div className="text-purple-400 font-semibold mb-1">Seller</div>
                                                                    <div className="text-xs text-gray-300">Existing security holder</div>
                                                                </div>
                                                                <div className="grid grid-cols-2 gap-2">
                                                                    <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                        <div className="text-blue-400 font-semibold mb-1 text-center">Market</div>
                                                                        <div className="text-xs text-gray-300 text-center">Exchange or OTC</div>
                                                                    </div>
                                                                    <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                        <div className="text-blue-400 font-semibold mb-1 text-center">Brokers</div>
                                                                        <div className="text-xs text-gray-300 text-center">Facilitate trades</div>
                                                                    </div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                                    <div className="text-purple-400 font-semibold mb-1">Buyer</div>
                                                                    <div className="text-xs text-gray-300">New security holder</div>
                                                                </div>
                                                                <div className="text-center bg-blue-900 bg-opacity-30 p-2 rounded-lg mt-1">
                                                                    <div className="text-sm font-semibold text-blue-400">No New Capital Raised</div>
                                                                    <div className="text-xs text-gray-300">Funds flow between investors</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="mt-4 bg-gray-800 p-3 rounded-lg text-center w-full">
                                                        <p className="text-sm text-gray-300">
                                                            Secondary markets trade existing securities, while primary markets introduce new securities. 
                                                            The issuer only receives funds during the primary offering.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Step 2: How Secondary Markets Work - FIXED TRADING PROCESS FLOW */}
                                        {currentStep === 2 && (
                                            <div className="absolute inset-0 p-4">
                                                <h3 className="text-lg font-semibold mb-3 text-center text-blue-400">How Secondary Markets Work</h3>
                                                <div className="h-72 overflow-y-auto custom-scrollbar pr-2">
                                                    <div className="grid grid-cols-3 gap-3 bg-gray-800 p-3 rounded-lg mb-3">
                                                        <div className="col-span-3 text-center text-sm text-blue-400 font-semibold mb-1">Key Participants</div>
                                                        <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                            <div className="text-amber-400 font-semibold text-sm mb-1">Buyers</div>
                                                            <div className="text-xs text-gray-300">Retail Investors</div>
                                                            <div className="text-xs text-gray-300">Institutional Investors</div>
                                                            <div className="text-xs text-gray-300">Market Makers</div>
                                                            <div className="text-xs text-gray-300">Arbitrageurs</div>
                                                        </div>
                                                        <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                            <div className="text-green-400 font-semibold text-sm mb-1">Intermediaries</div>
                                                            <div className="text-xs text-gray-300">Brokerages</div>
                                                            <div className="text-xs text-gray-300">Exchanges</div>
                                                            <div className="text-xs text-gray-300">Electronic Networks</div>
                                                            <div className="text-xs text-gray-300">Custodians</div>
                                                        </div>
                                                        <div className="bg-gray-700 p-2 rounded-lg text-center">
                                                            <div className="text-red-400 font-semibold text-sm mb-1">Sellers</div>
                                                            <div className="text-xs text-gray-300">Retail Investors</div>
                                                            <div className="text-xs text-gray-300">Institutional Investors</div>
                                                            <div className="text-xs text-gray-300">Market Makers</div>
                                                            <div className="text-xs text-gray-300">Short Sellers</div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="bg-gray-800 p-3 rounded-lg mb-3">
                                                        <div className="text-center text-sm text-blue-400 font-semibold mb-2">Trading Process Flow</div>
                                                        <div className="relative h-32 mb-2">
                                                            <div className="absolute top-1/2 transform -translate-y-1/2 w-full">
                                                                <div className="w-full h-2 bg-gray-600 rounded-full"></div>
                                                            </div>
                                                            
                                                            {/* Fixed and properly spaced process steps */}
                                                            <div className="absolute grid grid-cols-5 w-full h-full">
                                                                <div className="flex flex-col items-center justify-center">
                                                                    <div className="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-xs mb-2">1</div>
                                                                    <div className="text-xs text-gray-300 text-center">Order Placement</div>
                                                                </div>
                                                                
                                                                <div className="flex flex-col items-center justify-center">
                                                                    <div className="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-xs mb-2">2</div>
                                                                    <div className="text-xs text-gray-300 text-center">Order Routing</div>
                                                                </div>
                                                                
                                                                <div className="flex flex-col items-center justify-center">
                                                                    <div className="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-xs mb-2">3</div>
                                                                    <div className="text-xs text-gray-300 text-center">Order Matching</div>
                                                                </div>
                                                                
                                                                <div className="flex flex-col items-center justify-center">
                                                                    <div className="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-xs mb-2">4</div>
                                                                    <div className="text-xs text-gray-300 text-center">Trade Execution</div>
                                                                </div>
                                                                
                                                                <div className="flex flex-col items-center justify-center">
                                                                    <div className="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-xs mb-2">5</div>
                                                                    <div className="text-xs text-gray-300 text-center">Settlement & Clearing</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="grid grid-cols-2 gap-3 mb-3">
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-center text-sm text-blue-400 font-semibold mb-1">Order Types</div>
                                                            <div className="space-y-1">
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-green-400">Market:</span> Execute at current price</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-green-400">Limit:</span> Set price threshold</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-green-400">Stop:</span> Trigger at price point</div>
                                                            </div>
                                                        </div>
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-center text-sm text-blue-400 font-semibold mb-1">Price Discovery</div>
                                                            <div className="space-y-1">
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-red-400">Bid:</span> Highest buy price</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-red-400">Ask:</span> Lowest sell price</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300"><span className="font-semibold text-red-400">Spread:</span> Bid-Ask difference</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                        <p className="text-sm text-gray-300">
                                                            Secondary markets connect buyers and sellers through exchanges or dealer networks. 
                                                            Transactions occur continuously, with prices adjusting based on supply and demand.
                                                            The process is increasingly automated through electronic trading systems.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Step 3: Market Structure - CENTER ALIGNED TEXT */}
                                        {currentStep === 3 && (
                                            <div className="absolute inset-0 p-4">
                                                <h3 className="text-lg font-semibold mb-3 text-center text-blue-400">Secondary Market Structures</h3>
                                                <div className="h-72 overflow-y-auto custom-scrollbar pr-2">
                                                    <div className="grid grid-cols-2 gap-4 mb-4">
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-green-400 font-semibold text-center mb-2">Exchange Market</div>
                                                            <div className="space-y-2">
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Centralized</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Trading occurs in one physical or virtual location</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Transparent</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Publicly visible order book and prices</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Regulated</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Strict rules and oversight</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Examples</span>
                                                                    <div className="text-xs text-gray-300 mt-1">NYSE, Nasdaq, LSE, TSX</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-amber-400 font-semibold text-center mb-2">Over-the-Counter (OTC)</div>
                                                            <div className="space-y-2">
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Decentralized</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Trading through dealer networks</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Less Transparent</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Limited price visibility</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Looser Regulation</span>
                                                                    <div className="text-xs text-gray-300 mt-1">Fewer formal requirements</div>
                                                                </div>
                                                                <div className="bg-gray-700 p-2 rounded text-sm text-center">
                                                                    <span className="font-semibold">Examples</span>
                                                                    <div className="text-xs text-gray-300 mt-1">OTCBB, Pink Sheets, Bond Markets</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="grid grid-cols-2 gap-4 mb-3">
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-blue-400 font-semibold text-center mb-2">Order-Driven Markets</div>
                                                            <div className="space-y-1">
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Match buy and sell orders directly</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Based on price-time priority</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Common in stock exchanges</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Transparent order book</div>
                                                            </div>
                                                        </div>
                                                        <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                            <div className="text-purple-400 font-semibold text-center mb-2">Quote-Driven Markets</div>
                                                            <div className="space-y-1">
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Dealers provide bid-ask quotes</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Market makers maintain inventory</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Common in bond and OTC markets</div>
                                                                <div className="text-xs bg-gray-700 p-1 rounded text-gray-300 text-center">Less transparent</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="bg-gray-800 p-3 rounded-lg text-center">
                                                        <div className="text-blue-400 font-semibold mb-1">Electronic Communication Networks (ECNs)</div>
                                                        <div className="text-sm text-gray-300">
                                                            Automated systems that match buy and sell orders electronically.
                                                            They provide after-hours trading, faster execution, and often lower costs.
                                                            Examples include Instinet, Archipelago, and BATS.
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Step 4: Market Efficiency - KEEP ORIGINAL */}
                                        {currentStep === 4 && (
                                            <div className="absolute inset-0 p-4">
                                                <h3 className="text-lg font-semibold mb-3 text-center text-blue-400">Secondary Market Efficiency</h3>
                                                <div className="h-72 overflow-y-auto custom-scrollbar pr-2">
                                                    <div className="bg-gray-800 p-3 rounded-lg mb-3">
                                                        <div className="text-center text-sm text-blue-400 font-semibold mb-2">Efficient Market Hypothesis (EMH)</div>
                                                        <div className="grid grid-cols-3 gap-2">
                                                            <div className="bg-gray-700 p-2 rounded-lg">
                                                                <div className="text-green-400 text-center font-semibold text-sm mb-1">Weak Form</div>
                                                                <div className="text-xs text-gray-300">
                                                                    Past price data is fully reflected in current prices. 
                                                                    Technical analysis cannot consistently generate excess returns.
                                                                </div>
                                                            </div>
                                                            <div className="bg-gray-700 p-2 rounded-lg">
                                                                <div className="text-amber-400 text-center font-semibold text-sm mb-1">Semi-Strong Form</div>
                                                                <div className="text-xs text-gray-300">
                                                                    All public information is reflected in prices. 
                                                                    Fundamental analysis cannot consistently generate excess returns.
                                                                </div>
                                                            </div>
                                                            <div className="bg-gray-700 p-2 rounded-lg">
                                                                <div className="text-red-400 text-center font-semibold text-sm mb-1">Strong Form</div>
                                                                <div className="text-xs text-gray-300">
                                                                    All information (public and private) is reflected in prices. 
                                                                    Even insider information cannot yield excess returns.
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="grid grid-cols-2 gap-3 mb-3">
                                                        <div className="bg-gray-800 p-3 rounded-lg">
                                                            <div className="text-blue-400 font-semibold text-center mb-2">Characteristics of Efficient Markets</div>
                                                            <div className="h-28">
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-blue-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Large number of rational participants</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-blue-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Information freely available to all</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-blue-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Low transaction costs</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-blue-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Quick price adjustments to new information</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-blue-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Securities priced at fair value</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div className="bg-gray-800 p-3 rounded-lg">
                                                            <div className="text-red-400 font-semibold text-center mb-2">Market Inefficiencies</div>
                                                            <div className="h-28">
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-red-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Information asymmetry</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-red-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Transaction costs and taxes</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-red-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Behavioral biases</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-red-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Market manipulation</p>
                                                                </div>
                                                                <div className="flex items-start mb-1">
                                                                    <div className="w-2 h-2 rounded-full bg-red-500 mt-1.5 mr-1 flex-shrink-0"></div>
                                                                    <p className="text-xs text-gray-300">Liquidity constraints</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="bg-gray-800 p-3 rounded-lg">
                                                        <p className="text-sm text-gray-300">
                                                            Market efficiency determines how quickly and accurately prices reflect available information.
                                                            Efficient markets make it difficult to consistently outperform the market.
                                                            However, real markets exhibit varying degrees of efficiency across different asset classes and over time.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    <div className="flex justify-between">
                                        <button 
                                            onClick={prevStep}
                                            className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors"
                                        >
                                            Previous
                                        </button>
                                        <div className="flex space-x-2">
                                            {[1, 2, 3, 4].map(i => (
                                                <div 
                                                    key={i}
                                                    className={`w-2 h-2 rounded-full ${currentStep === i ? 'bg-blue-500' : 'bg-gray-500'}`}
                                                    onClick={() => setCurrentStep(i)}
                                                ></div>
                                            ))}
                                        </div>
                                        <button 
                                            onClick={nextStep}
                                            className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors"
                                        >
                                            Next
                                        </button>
                                    </div>
                                </div>
                            )}

                            {/* Types of Secondary Markets */}
                            {activeTab === 'types' && (
                                <div className="mb-6">
                                    <h3 className="text-lg font-semibold mb-3 text-blue-400">Types of Secondary Markets</h3>
                                    
                                    <div className="grid grid-cols-2 gap-4 mb-4">
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-blue-400 mb-2">Stock Exchanges</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Publicly traded company shares
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> NYSE, Nasdaq, Tokyo Stock Exchange
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> High regulation, standardized trading hours, listing requirements
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Retail investors, institutions, market makers
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-green-400 mb-2">Bond Markets</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Debt securities (government, corporate, municipal)
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> U.S. Treasury market, corporate bond markets
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> Mostly OTC, dealer-driven, less transparent
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Institutional investors, dealers, central banks
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="grid grid-cols-2 gap-4 mb-4">
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-amber-400 mb-2">Forex Markets</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Currency pairs
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> Interbank forex market, retail forex platforms
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> 24-hour trading, high liquidity, global, decentralized
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Banks, corporations, governments, speculators
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-purple-400 mb-2">Derivatives Markets</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Futures, options, swaps
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> CME, CBOE, ICE
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> Standardized contracts, leveraged positions, expiration dates
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Hedgers, speculators, arbitrageurs
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-red-400 mb-2">OTC Markets</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Unlisted stocks, bonds, derivatives
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> OTCBB, Pink Sheets, private placements
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> Lower listing requirements, higher risk, less regulation
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Smaller companies, sophisticated investors
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-pink-400 mb-2">Alternative Markets</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-pink-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Asset Type:</span> Cryptocurrencies, carbon credits, rare collectibles
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-pink-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Examples:</span> Crypto exchanges, auction houses, specialized platforms
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-pink-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Features:</span> Innovative assets, evolving regulation, niche markets
                                                    </p>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-pink-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <p className="text-gray-200 text-sm">
                                                        <span className="font-semibold">Participants:</span> Specialized investors, enthusiasts, early adopters
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Market Metrics */}
                            {activeTab === 'metrics' && (
                                <div className="mb-6">
                                    <h3 className="text-lg font-semibold mb-3 text-blue-400">Secondary Market Metrics</h3>
                                    
                                    <div className="flex mb-4">
                                        <button
                                            className={`px-4 py-2 rounded-tl-lg rounded-bl-lg ${!showingVolume ? 'bg-gray-700 text-white' : 'bg-gray-600 text-gray-300'}`}
                                            onClick={() => setShowingVolume(false)}
                                        >
                                            Liquidity Metrics
                                        </button>
                                        <button
                                            className={`px-4 py-2 rounded-tr-lg rounded-br-lg ${showingVolume ? 'bg-gray-700 text-white' : 'bg-gray-600 text-gray-300'}`}
                                            onClick={() => setShowingVolume(true)}
                                        >
                                            Market Volume
                                        </button>
                                    </div>

                                    <div className="h-64 mb-4">
                                        <canvas ref={chartRef}></canvas>
                                    </div>
                                    
                                    <div className="text-sm text-center text-gray-300 mb-4">
                                        {showingVolume ? 
                                            "Daily trading volumes across different secondary market types show the relative size and activity level of each market segment." : 
                                            "Liquidity metrics across security types reveal that more established markets like blue-chip stocks and government bonds typically have tighter spreads and faster execution times."}
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-blue-400 mb-2">Liquidity Indicators</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Bid-Ask Spread</span>
                                                        <p className="text-gray-300 text-xs">Difference between highest buy price and lowest sell price. Narrower spreads indicate higher liquidity.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Trading Volume</span>
                                                        <p className="text-gray-300 text-xs">Number of shares or contracts traded. Higher volume typically indicates greater liquidity.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Market Depth</span>
                                                        <p className="text-gray-300 text-xs">Volume of orders at different price levels. Deeper markets can absorb large orders without significant price impact.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Turnover Ratio</span>
                                                        <p className="text-gray-300 text-xs">Trading volume relative to outstanding shares. Higher ratios indicate more active trading.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="bg-gray-700 p-4 rounded-lg">
                                            <h4 className="font-semibold text-green-400 mb-2">Volatility & Efficiency Metrics</h4>
                                            <div className="space-y-3">
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Price Volatility</span>
                                                        <p className="text-gray-300 text-xs">Magnitude of price fluctuations. Measured with standard deviation, beta, or VIX-type indices.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Market Efficiency Ratio</span>
                                                        <p className="text-gray-300 text-xs">How quickly prices incorporate new information. Often measured by studying anomalies or event studies.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Market Impact Cost</span>
                                                        <p className="text-gray-300 text-xs">Price movement caused by executing an order. Lower impact indicates higher market quality.</p>
                                                    </div>
                                                </div>
                                                <div className="flex items-start">
                                                    <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                    <div>
                                                        <span className="font-semibold">Information Ratio</span>
                                                        <p className="text-gray-300 text-xs">Return per unit of risk relative to benchmark. Used to evaluate pricing efficiency.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Market Functions */}
                            {activeTab === 'functions' && (
                                <div className="mb-6">
                                    <h3 className="text-lg font-semibold mb-3 text-blue-400">Key Functions of Secondary Markets</h3>
                                    
                                    <div className="bg-gray-700 p-4 rounded-lg mb-4">
                                        <h4 className="font-semibold text-blue-400 mb-3">Liquidity Provision</h4>
                                        <div className="space-y-3">
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Secondary markets allow investors to buy and sell securities quickly and at fair prices, turning long-term investments into cash when needed.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        This liquidity reduces investment risk, as investors aren't locked into positions for the full term of the security.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-blue-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Without secondary markets, investors would demand higher returns to compensate for the lack of liquidity, increasing capital costs.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="bg-gray-700 p-4 rounded-lg mb-4">
                                        <h4 className="font-semibold text-green-400 mb-3">Price Discovery</h4>
                                        <div className="space-y-3">
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Secondary markets determine the current fair value of securities through continuous trading, creating transparent price discovery.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Prices reflect all available information about the security, incorporating market sentiment, economic data, company performance, and geopolitical factors.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        These market-determined prices provide valuable signals to issuers, investors, and the broader economy about resource allocation.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="bg-gray-700 p-4 rounded-lg mb-4">
                                        <h4 className="font-semibold text-amber-400 mb-3">Market Efficiency</h4>
                                        <div className="space-y-3">
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Secondary markets promote allocation efficiency by directing capital to its most productive uses through price signals.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Information efficiency is achieved as prices rapidly adjust to incorporate new data, reducing information asymmetry.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-amber-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Operational efficiency is enhanced through competition, technology, and standardization, lowering transaction costs.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="bg-gray-700 p-4 rounded-lg mb-4">
                                        <h4 className="font-semibold text-purple-400 mb-3">Primary Market Support</h4>
                                        <div className="space-y-3">
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        By providing exit opportunities, secondary markets make primary market investments more attractive, lowering the cost of capital.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Initial public offerings (IPOs) rely on liquid secondary markets to set appropriate offer prices and ensure successful capital raising.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-purple-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Secondary market pricing of similar securities helps issuers determine appropriate terms for new offerings.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div className="bg-gray-700 p-4 rounded-lg">
                                        <h4 className="font-semibold text-red-400 mb-3">Risk Management & Diversification</h4>
                                        <div className="space-y-3">
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Secondary markets enable portfolio diversification by providing access to a wide range of securities across asset classes, sectors, and geographies.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Risk transfer is facilitated through specialized instruments like derivatives, allowing market participants to hedge exposures.
                                                    </p>
                                                </div>
                                            </div>
                                            <div className="flex items-start">
                                                <div className="w-3 h-3 rounded-full bg-red-500 mt-1.5 mr-2 flex-shrink-0"></div>
                                                <div>
                                                    <p className="text-gray-200 text-sm">
                                                        Active secondary markets allow investors to adjust their risk profiles as needed in response to changing market conditions or personal circumstances.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Primary vs Secondary Markets Comparison */}
                            <div className="mt-6 bg-gray-700 p-4 rounded-lg">
                                <div className="font-semibold mb-2 text-blue-400">Primary vs. Secondary Markets</div>
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="bg-green-900 bg-opacity-30 p-3 rounded-lg">
                                        <div className="text-green-400 font-semibold mb-1">Primary Market</div>
                                        <div className="text-sm text-gray-300">Issuance of new securities</div>
                                        <div className="text-sm text-gray-300">Issuer to investors</div>
                                        <div className="text-sm text-gray-300">Raises new capital</div>
                                        <div className="text-sm text-gray-300">Creates securities</div>
                                    </div>
                                    <div className="bg-blue-900 bg-opacity-30 p-3 rounded-lg">
                                        <div className="text-blue-400 font-semibold mb-1">Secondary Market</div>
                                        <div className="text-sm text-gray-300">Trading existing securities</div>
                                        <div className="text-sm text-gray-300">Between investors</div>
                                        <div className="text-sm text-gray-300">No new capital for issuer</div>
                                        <div className="text-sm text-gray-300">Provides liquidity</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SecondaryMarketsVisual />);
    </script>
</body>
</html>